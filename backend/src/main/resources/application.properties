# Database Configuration - Using H2 in-memory for testing
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# H2 Console (for debugging)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Security Configuration
app.jwt.secret=${JWT_SECRET:mySecretKey123456789012345678901234567890123456789012345678901234567890}
app.jwt.expiration-ms=86400000
app.cors.allowed-origins=${CORS_ORIGINS:http://localhost:3000,http://localhost:3001}

# External APIs Configuration
app.external-apis.adzuna.app-id=${ADZUNA_APP_ID:550a8200}
app.external-apis.adzuna.app-key=${ADZUNA_APP_KEY:5f32bfc27aad5c37e1f4cae242dc79a4}
app.external-apis.rapidapi.key=${RAPIDAPI_KEY:719eae7202msh050dbd4286503edp13ae8ejsn3e04677107a1}
app.external-apis.rapidapi.host=jsearch.p.rapidapi.com

# Rate Limiting
app.rate-limit.requests-per-minute=60
app.rate-limit.api-requests-per-hour=1000

# External API Rate Limiting (optimized for free tiers)
app.external-apis.jsearch.delay-between-requests=1500
app.external-apis.jsearch.max-requests-per-fetch=5
app.external-apis.adzuna.delay-between-requests=3000
app.external-apis.adzuna.max-requests-per-fetch=2

# Mock Services Configuration
app.mock.enabled=${MOCK_ENABLED:true}
app.mock.jsearch.max-jobs=15
app.mock.adzuna.max-jobs=12
app.mock.response-delay-min=1000
app.mock.response-delay-max=3000

# Logging
logging.level.com.jobsearch=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized